{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///D:/Personal%20File/UNTAR/Kuliah/Semester%203/1.%20Front-end%20Programming/Vercel/week15-2025/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\r\n\r\ndeclare global {\r\n  var prisma: PrismaClient | undefined;\r\n}\r\n\r\nexport const prisma = global.prisma || new PrismaClient();\r\nif (process.env.NODE_ENV === 'development') global.prisma = prisma;\r\n"],"names":[],"mappings":";;;;AAAA;;AAMO,MAAM,SAAS,OAAO,MAAM,IAAI,IAAI,6IAAY;AACvD,wCAA4C,OAAO,MAAM,GAAG"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///D:/Personal%20File/UNTAR/Kuliah/Semester%203/1.%20Front-end%20Programming/Vercel/week15-2025/app/api/account/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { prisma } from '../../../lib/prisma';\r\n\r\n// GET current account\r\nexport async function GET() {\r\n  try {\r\n    const p: any = prisma;\r\n    let acct = await p.account.findUnique({ where: { name: 'default' } });\r\n    if (!acct) {\r\n      acct = await p.account.create({ data: { name: 'default', balance: 0 } });\r\n    }\r\n    return NextResponse.json(acct);\r\n  } catch (e) {\r\n    return NextResponse.json({ error: 'gagal mengambil account' }, { status: 500 });\r\n  }\r\n}\r\n\r\n// PATCH account balance\r\nexport async function PATCH(request: Request) {\r\n  try {\r\n    const body = await request.json();\r\n    if (typeof body.balance !== 'number') {\r\n      return NextResponse.json({ error: 'balance tidak valid' }, { status: 400 });\r\n    }\r\n    const p: any = prisma;\r\n    let acct = await p.account.upsert({\r\n      where: { name: 'default' },\r\n      update: { balance: body.balance },\r\n      create: { name: 'default', balance: body.balance },\r\n    });\r\n    return NextResponse.json(acct);\r\n  } catch (e) {\r\n    return NextResponse.json({ error: 'gagal update balance' }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAGO,eAAe;IACpB,IAAI;QACF,MAAM,IAAS,2NAAM;QACrB,IAAI,OAAO,MAAM,EAAE,OAAO,CAAC,UAAU,CAAC;YAAE,OAAO;gBAAE,MAAM;YAAU;QAAE;QACnE,IAAI,CAAC,MAAM;YACT,OAAO,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC;gBAAE,MAAM;oBAAE,MAAM;oBAAW,SAAS;gBAAE;YAAE;QACxE;QACA,OAAO,kPAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,GAAG;QACV,OAAO,kPAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA0B,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACF;AAGO,eAAe,MAAM,OAAgB;IAC1C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,IAAI,OAAO,KAAK,OAAO,KAAK,UAAU;YACpC,OAAO,kPAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAsB,GAAG;gBAAE,QAAQ;YAAI;QAC3E;QACA,MAAM,IAAS,2NAAM;QACrB,IAAI,OAAO,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC;YAChC,OAAO;gBAAE,MAAM;YAAU;YACzB,QAAQ;gBAAE,SAAS,KAAK,OAAO;YAAC;YAChC,QAAQ;gBAAE,MAAM;gBAAW,SAAS,KAAK,OAAO;YAAC;QACnD;QACA,OAAO,kPAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,GAAG;QACV,OAAO,kPAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAuB,GAAG;YAAE,QAAQ;QAAI;IAC5E;AACF"}}]
}